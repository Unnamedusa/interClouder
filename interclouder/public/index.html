<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="theme-color" content="#0d0a14"><title>interClouder</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon points='50,12 88,30 50,48 12,30' fill='%23C084FC'/><polygon points='12,30 50,48 50,86 12,68' fill='%238B5CF6'/><polygon points='50,48 88,30 88,68 50,86' fill='%23A855F7'/></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  <style>
    #loader{position:fixed;inset:0;background:#0d0a14;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;transition:opacity .4s}
    #loader.done{opacity:0;pointer-events:none}
    #loader .logo{width:60px;height:60px;animation:spin 2s linear infinite}
    @keyframes spin{0%{transform:rotateY(0)}100%{transform:rotateY(360deg)}}
    #loader h1{font-family:'Space Grotesk',sans-serif;font-size:22px;font-weight:800;background:linear-gradient(135deg,#A855F7,#F472B6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:12px 0 4px}
    #loader p{font-family:'Space Grotesk',sans-serif;font-size:10px;color:#6a6280;margin-bottom:20px}
    #loader .bar{width:200px;height:4px;border-radius:2px;background:#1a1525;overflow:hidden}
    #loader .fill{height:100%;border-radius:2px;background:linear-gradient(90deg,#A855F7,#F472B6);width:0%;transition:width .3s}
    #loader .status{font-family:'Space Grotesk',sans-serif;font-size:9px;color:#4a4460;margin-top:8px}
    #loader .errmsg{font-family:'Space Grotesk',sans-serif;font-size:11px;color:#EF4444;margin-top:12px;display:none;max-width:350px;text-align:center;line-height:1.5}
  </style>
</head>
<body>
  <div id="loader">
    <svg class="logo" viewBox="0 0 100 100"><polygon points="50,12 88,30 50,48 12,30" fill="#C084FC"/><polygon points="12,30 50,48 50,86 12,68" fill="#8B5CF6"/><polygon points="50,48 88,30 88,68 50,86" fill="#A855F7"/></svg>
    <h1>interClouder</h1>
    <p>v5.0</p>
    <div class="bar"><div class="fill" id="lbar"></div></div>
    <div class="status" id="lstatus">Initializing...</div>
    <div class="errmsg" id="lerr"></div>
  </div>
  <div id="root"></div>

  <script>
    var LP=0;
    function lp(p,s){LP=p;document.getElementById('lbar').style.width=p+'%';document.getElementById('lstatus').textContent=s;console.log('[IC] '+p+'% '+s)}
    function lerr(msg){var el=document.getElementById('lerr');el.style.display='block';el.textContent=msg;console.error('[IC ERROR] '+msg)}
    window.onerror=function(msg,src,line){console.error('[IC] JS Error:',msg,'at',src,':',line);if(LP<100)lerr('JS Error: '+msg)};
    lp(5,'Loading core data...');
  </script>

  <!-- 1. Data (plain JS — no Babel) -->
  <script src="/js/data.js" onload="lp(15,'Data loaded')" onerror="lerr('Cannot load data.js — is the server running? (npm start)')"></script>

  <!-- 2. React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js" onload="lp(30,'React loaded')" onerror="lerr('Cannot load React — check internet connection')"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" onload="lp(45,'ReactDOM loaded')" onerror="lerr('Cannot load ReactDOM — check internet connection')"></script>

  <!-- 3. Babel -->
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js" onload="lp(65,'Babel loaded')" onerror="lerr('Cannot load Babel — check internet connection')"></script>

  <!-- 4. App files — GLOBAL scope (NO data-type=module) -->
  <script type="text/babel" src="/js/components.js"></script>
  <script type="text/babel" src="/js/panels.js"></script>
  <script type="text/babel" src="/js/app.js"></script>

  <script>
    var _lo=setInterval(function(){
      if(document.querySelector('.app')||document.querySelector('.login-bg')||document.querySelector('.age-gate')){
        lp(100,'Ready!');
        setTimeout(function(){document.getElementById('loader').classList.add('done');clearInterval(_lo)},400);
      } else if(LP>=65){
        lp(Math.min(LP+2,95),'Building interface...');
      }
    },250);
    setTimeout(function(){
      if(LP<100){
        var msg='Timeout: ';
        if(LP<15)msg+='Server not responding. Run: npm install && npm start';
        else if(LP<65)msg+='CDN failed. Check internet connection.';
        else msg+='Build failed. Press F12 and check Console for errors.';
        lerr(msg);
      }
    },20000);
  </script>
</body>
</html>
